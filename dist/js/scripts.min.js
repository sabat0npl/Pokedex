let pokemonRepository=function(){let e=document.querySelector(".search"),t="https://pokeapi.co/api/v2/pokemon/?limit=100",n=[];function o(e){i();let t=e.detailsURL;return fetch(t).then(function(e){return e.json()}).then(function(t){e.index=t.id,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){return e.types.push(t.type.name)}),e.abilities=[],t.abilities.forEach(function(t){return e.abilities.push(t.ability.name)}),l()}).catch(function(e){console.log(`Fetch failed: ${e}`)})}function i(){console.log("Loading...")}function l(){console.log("Done!")}function a(e){n.push(e)}function s(e){o(e).then(function(){let t=e.name,n=e.height,o=e.index,i=e.weight,l=e.abilities;(function(e,t,n,o,i,l){return new Promise(function(a,s){let c=document.querySelector(".modal-title"),d=document.querySelector(".modal-body"),r=(document.querySelector(".modal-footer"),document.createElement("img"));r.classList.add("modal-image");let p=document.createElement("div");p.classList.add("description");let u=document.createElement("div");u.classList.add("size"),p.appendChild(u);let m=document.createElement("p");m.innerHTML=`Height <span> ${t} </span>`,u.appendChild(m);let h=document.createElement("p");h.innerHTML=`Weight <span> ${i} </span>`,u.appendChild(h);let f=document.createElement("p");f.classList.add("description-header"),f.innerText="Abilities",p.appendChild(f);let g=document.createElement("div");g.classList.add("abilities");let b=document.createElement("p");b.innerText=l.join(", "),g.appendChild(b),p.appendChild(g);let L=document.createElement("div");L.classList.add("type"),o.forEach(function(e){let t=document.createElement("button");t.classList.add(e),t.innerText=e,L.appendChild(t)}),d.innerHTML="",c.innerHTML=`<h1>${e}</h1>`,r.setAttribute("src",`https://pokeres.bastionbot.org/images/pokemon/${n}.png`),r.setAttribute("width","200px"),r.setAttribute("alt",`this is a picture of ${e}`),d.append(r),d.append(p),d.append(L),a("Completed successfully!"),s("Unable to complete task...")})})(t,n,o,e.types,i,l).then(function(e){console.log(e)}).catch(function(e){console.log(e)})})}return e.addEventListener("input",function(){let t=document.querySelectorAll(".pokemon"),n=e.value.toUpperCase();t.forEach(function(e){console.log(e.innerText),e.innerText.toUpperCase().indexOf(n)>-1?e.style.display="":e.style.display="none"})}),{add:a,getAll:function(){return n},addListItem:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("pokemon"),n.classList.add("col-12"),n.classList.add("col-md-4");let o=document.createElement("button");o.classList.add("btn"),o.classList.add("btn-light"),o.setAttribute("data-bs-toggle","modal"),o.setAttribute("data-bs-target","#pokemonModal");let i=document.createElement("img");i.classList.add("pokemon-list__image"),i.setAttribute("src",`https://pokeres.bastionbot.org/images/pokemon/${e.index}.png`),o.innerText=e.name,o.appendChild(i),n.appendChild(o),t.appendChild(n),function(e,t){e.addEventListener("click",function(){s(t)})}(o,e)},showDetails:s,loadItems:function(){return i(),fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e,t){a({index:t+1,name:e.name[0].toUpperCase()+e.name.slice(1),detailsURL:e.url})}),l()}).catch(function(e){console.log(`Fetch failed: ${e}`)})},loadDeails:o}}();pokemonRepository.loadItems().then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});